#!/bin/sh
bin=/home/aedorn/automation/bin/1.0/mi424wr
xml=/home/aedorn/automation/platform/1.0/verizon2/testcases/manual_test_plan/tcases
json=/home/aedorn/automation/platform/1.0/verizon2/testcases/manual_test_plan/json

# Initial setup
ruby $bin/xmlbuild.rb -j $json -o $xml/tc_40.xml -d "Set firewall back to Typical for Static NAT testing." -e "Set firewall to typical" tc_all_firewall_typical
ruby $bin/xmlbuild.rb --add tshark -j $json -o $xml/tc_41.xml -d "Static NAT setup to PC1. Verify DUT WAN IP and Static NAT IP are coming back as their own associated IP. Verify DUT IP ports come back as filtered, and not to Static NAT IP" -e "Static NAT - Case 1" tc_sn_pc1 tc_sn_verify_nonat_ip tc_sn_verify_ip_pc1 tc_sn_block_test_pc1 tc_all_enable_telnet getconfig tc_all_disable_telnet tc_sn_remove_rules
ruby $bin/xmlbuild.rb --add tshark -j $json -o $xml/tc_42.xml -d "Static NAT setup to PC1 with port forwarding. Check that port forwarding works with Static NAT IP and not DUT WAN IP." -e "Static NAT - Case 2 and 3" tc_sn_pc1_with_pf tc_sn_block_test_pc1 tc_sn_allow_test_pc1 tc_all_enable_telnet getconfig tc_all_disable_telnet tc_sn_remove_rules
ruby $bin/xmlbuild.rb --add tshark -j $json -o $xml/tc_43.xml -d "Static NAT setup to PC1 with port forwarding. Static NAT setup to PC2 with port forwarding (same ports as PC1.) Verify static NAT IPs and DUT IP. Verify port forwarding rules." -e "Static NAT - Case 4" tc_sn_pc1_with_pf tc_sn_pc2_with_pf tc_sn_verify_nonat_ip tc_sn_verify_ip_pc1 tc_sn_verify_ip_pc2 tc_sn_block_test_pc1 tc_sn_allow_test_pc1 tc_sn_block_test_pc2 tc_sn_allow_test_pc2 tc_all_enable_telnet getconfig tc_all_disable_telnet
ruby $bin/xmlbuild.rb --add tshark -j $json -o $xml/tc_44.xml -d "Static NAT - Port forwarding rule to 3rd PC, without removing prior 2 static NAT rules. Verify static NAT IPs and DUT IP. Verify port forwarding rules." -e "Static NAT - Case 5" tc_pf_pc3 tc_sn_verify_nonat_ip tc_sn_verify_ip_pc1 tc_sn_verify_ip_pc2 tc_pf_pc3_test tc_sn_allow_test_pc1 tc_sn_allow_test_pc2 tc_all_enable_telnet getconfig tc_all_disable_telnet tc_pf_remove_rules
ruby $bin/xmlbuild.rb --add tshark -j $json -o $xml/tc_45.xml -d "Static NAT - DMZ host rule to 3rd PC, without removing prior 2 static NAT rules. Verify static NAT IPs and DUT IP. Verify port forwarding rules and DMZ." -e "Static NAT - Case 6" tc_dmz_pc3 tc_dmz_pc3_test tc_sn_verify_nonat_ip tc_sn_verify_ip_pc1 tc_sn_verify_ip_pc2 tc_pf_pc3_test tc_sn_allow_test_pc1 tc_sn_allow_test_pc2 tc_all_enable_telnet getconfig tc_all_disable_telnet tc_dmz_off tc_sn_remove_rules
ruby $bin/xmlbuild.rb --add tshark -j $json -o $xml/tc_46.xml -d "Static NAT setup to PC1 and PC2. Use different WAN connection type on PC1. Verify PC2 works and PC1 does not." -e "Static NAT - Case 8" tc_sn_pc1_wantype_moca tc_sn_pc2 tc_sn_block_test_pc1-1 tc_sn_allow_test_pc2 tc_all_enable_telnet getconfig tc_all_disable_telnet tc_sn_remove_rules
