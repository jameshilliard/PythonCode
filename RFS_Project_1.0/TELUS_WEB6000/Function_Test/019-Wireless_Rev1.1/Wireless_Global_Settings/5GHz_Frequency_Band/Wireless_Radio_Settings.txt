*** Settings ***
Suite Teardown    TR_SPV_WiFiRadio_Enable
Resource          ../../../../Variables_ENV.txt
Resource          ../../../../Share_Resource.txt
Resource          ../../../../GUI_Keyword.txt

*** Test Cases ***
RFW-T6000-12570:Disable Wireless Radio
    [Setup]    TR_SPV_WiFiRadio_Enable
    #1. Ensure that Wireless Radio is enabled on DUT in 2.4GHz band and DUT is sending Beacon packets periodically.
    Comment    Check DUT Wifi Radio ON and Beacon
    TR_GPV_Check    Device.WiFi.Radio.1.Enable=1
    FUN_Parse WiFi_L2 Packets    wlan.fc.type_subtype == 0x08 and wlan.bssid == 00:18:01:00:7b:a7    True    #Capture Beacon
    #2. Disable Wireless Radio in 2.4GHz band.
    Comment    Disable DUT Wifi Radio
    TR_SPV    Device.WiFi.Radio.1.Enable=0 boolean
    TR_GPV_Check    Device.WiFi.Radio.1.Enable=0
    #3. Go to check Expected Results.
    FUN_Parse WiFi_L2 Packets    wlan.fc.type_subtype == 0x08 and wlan.bssid == 00:18:01:00:7b:a7    False    #Capture Beacon
    Comment    GUI Check WiFi Radio ON or OFF
    GUI_Check WiFi Radio_5G    ${U_DUT_BR0_IP}    ${U_DUT_HTTP_USER}    ${U_DUT_HTTP_PWD}    off
    #4. Reboot DUT
    Comment    TR_Reboot_DUT
    #5. Go to check Expected Results again after DUT boots up.
    Comment    Retest
    FUN_Parse WiFi_L2 Packets    wlan.fc.type_subtype == 0x08 and wlan.bssid == 00:18:01:00:7b:a7    False    # filter rule is DUT's BSSID
    GUI_Check WiFi Radio_5G    ${U_DUT_BR0_IP}    ${U_DUT_HTTP_USER}    ${U_DUT_HTTP_PWD}    off

RFW-T6000-12571:Enabled Wireless Radio
    [Setup]    TR_SPV_WiFiRadio_Disable
    #1. Ensure that Wireless Radio is disabled on DUT in 2.4GHz frequency band.
    Comment    Check DUT Wifi Radio OFF and Beacon
    TR_GPV_Check    Device.WiFi.Radio.1.Enable=0
    FUN_Parse WiFi_L2 Packets    wlan.fc.type_subtype == 0x08 and wlan.bssid == 00:18:01:00:7b:a7    False    #Capture Beacon
    #2. Enable Wireless Radio on DUT in 2.4ghz frequency band.
    Comment    Enable DUT Wifi Radio
    TR_SPV    Device.WiFi.Radio.1.Enable=1 boolean
    TR_GPV_Check    Device.WiFi.Radio.1.Enable=1
    #3. Go to check Expected Results.
    FUN_Parse WiFi_L2 Packets    wlan.fc.type_subtype == 0x08 and wlan.bssid == 00:18:01:00:7b:a7    True    #Capture Beacon
    Comment    GUI Check WiFi Radio ON or OFF
    GUI_Check WiFi Radio_5G    ${U_DUT_BR0_IP}    ${U_DUT_HTTP_USER}    ${U_DUT_HTTP_PWD}    on
    #4. Reboot DUT
    Comment    TR_Reboot_DUT
    #5. Go to check Expected Results again after DUT boots up.
    Comment    Retest
    FUN_Parse WiFi_L2 Packets    wlan.fc.type_subtype == 0x08 and wlan.bssid == 00:18:01:00:7b:a7    True    # filter rule is DUT's BSSID
    GUI_Check WiFi Radio_5G    ${U_DUT_BR0_IP}    ${U_DUT_HTTP_USER}    ${U_DUT_HTTP_PWD}    on
