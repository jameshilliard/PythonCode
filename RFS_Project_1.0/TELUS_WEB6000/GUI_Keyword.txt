*** Settings ***
Library           Selenium2Library
Library           String

*** Keywords ***
GUI_LoginDUT
    [Arguments]    ${USR}    ${PASSWORD}
    ${Title}=    Get Title
    Should Be Equal As Strings    ${Title}    Login
    Input Text    login_username    ${USR}
    Input Text    login_password    ${PASSWORD}
    Click Element    login_btn
    Sleep    2
    Page Should Contain Element    userToolbar

GUI_Check WiFi Radio_2G
    [Arguments]    ${U_DUT_BR0_IP}    ${U_DUT_HTTP_USER}    ${U_DUT_HTTP_PWD}    ${casetype}=on
    Open Browser    http://${U_DUT_BR0_IP}
    Sleep    2
    GUI_LoginDUT    ${U_DUT_HTTP_USER}    ${U_DUT_HTTP_PWD}
    ${Status_2G}=    Get Text    //*[@id="id2_apenb"]
    Run Keyword If    '${casetype}' == 'on'    Should Be Equal As Strings    ${Status_2G}    Enabled    ELSE IF    '${casetype}' == 'off'
    ...    Should Be Equal As Strings    ${Status_2G}    Disabled
    GUI_LogoutDUT    ${U_DUT_BR0_IP}
    Close Browser

GUI_Check WiFi Radio_5G
    [Arguments]    ${U_DUT_BR0_IP}    ${U_DUT_HTTP_USER}    ${U_DUT_HTTP_PWD}    ${casetype}=on
    Open Browser    ${U_DUT_BR0_IP}
    Sleep    2
    GUI_LoginDUT    ${U_DUT_HTTP_USER}    ${U_DUT_HTTP_PWD}
    ${Status_5G}=    Get Text    xpath=//*[@id="id5_apenb"]
    Run Keyword If    '${casetype}' == 'on'    Should Be Equal As Strings    ${Status_5G}    Enabled    ELSE IF    '${casetype}' == 'off'
    ...    Should Be Equal As Strings    ${Status_5G}    Disabled
    GUI_LogoutDUT    ${U_DUT_BR0_IP}
    Close Browser

GUI_LogoutDUT
    [Arguments]    ${U_DUT_BR0_IP}
    Go To    http://${U_DUT_BR0_IP}/wcb_main.html
    Page Should Contain Element    userToolbar
    Click Element    top_logout_span
    Confirm Action
    Sleep    2
    ${Title}=    Get Title
    Should Be Equal As Strings    ${Title}    Login

GUI_Check_Channel_2G
    [Arguments]    ${U_DUT_BR0_IP}    ${U_DUT_HTTP_USER}    ${U_DUT_HTTP_PWD}    ${AutoChannel}=True
    Open Browser    http://${U_DUT_BR0_IP}
    sleep    2
    GUI_LoginDUT    ${U_DUT_HTTP_USER}    ${U_DUT_HTTP_PWD}
    ${Channel_display}=    Get Text    //*[@id="id2_apchannel"]
    ${GUI_Channel}=    Run Keyword If    '${AutoChannel}'=='True'    Get Substring    ${Channel_display}    5    ELSE IF
    ...    '${AutoChannel}'=='False'    Get Substring    ${Channel_display}    0
    GUI_LogoutDUT    ${U_DUT_BR0_IP}
    Close Browser
    [Return]    ${GUI_Channel}
